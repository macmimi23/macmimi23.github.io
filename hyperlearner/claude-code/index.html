<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ§  HyperLearner â€” Claude Code</title>
<style>
:root {
  --bg: #0f0f1a; --bg2: #161625; --bg3: #1e1e32; --border: #2a2a45;
  --text: #e0e0f0; --text2: #999ab5; --accent: #7c3aed; --accent2: #a78bfa;
  --green: #22c55e; --red: #ef4444; --yellow: #eab308; --blue: #3b82f6;
  --code-bg: #1a1a2e; --code-border: #333355;
}
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Inter, sans-serif; background: var(--bg); color: var(--text); line-height: 1.7; }
a { color: var(--accent2); text-decoration: none; }
a:hover { text-decoration: underline; }

/* NAV */
.topbar { position: sticky; top: 0; z-index: 100; background: var(--bg2); border-bottom: 1px solid var(--border); padding: 0; }
.topbar-inner { max-width: 1200px; margin: 0 auto; display: flex; align-items: center; gap: 0; overflow-x: auto; }
.topbar .logo { padding: 0.8rem 1.2rem; font-weight: 700; font-size: 1.1rem; white-space: nowrap; border-right: 1px solid var(--border); }
.tab { padding: 0.8rem 1.2rem; cursor: pointer; white-space: nowrap; border-bottom: 3px solid transparent; transition: all 0.15s; font-size: 0.9rem; color: var(--text2); }
.tab:hover { color: var(--text); background: var(--bg3); }
.tab.active { color: var(--accent2); border-bottom-color: var(--accent); background: var(--bg3); }

/* SEARCH */
.search-bar { max-width: 1200px; margin: 0 auto; padding: 1rem 1.5rem; }
.search-bar input { width: 100%; padding: 0.6rem 1rem; background: var(--bg3); border: 1px solid var(--border); border-radius: 8px; color: var(--text); font-size: 0.95rem; outline: none; }
.search-bar input:focus { border-color: var(--accent); }

/* CONTENT */
.content { max-width: 900px; margin: 0 auto; padding: 1.5rem 1.5rem 4rem; display: none; }
.content.active { display: block; }
h1 { font-size: 2rem; margin-bottom: 0.5rem; color: var(--accent2); }
h2 { font-size: 1.5rem; margin: 2rem 0 0.8rem; color: var(--accent2); border-bottom: 1px solid var(--border); padding-bottom: 0.4rem; }
h3 { font-size: 1.2rem; margin: 1.5rem 0 0.6rem; color: #c4b5fd; }
h4 { font-size: 1.05rem; margin: 1.2rem 0 0.4rem; color: #d4c5ff; }
p { margin-bottom: 0.8rem; }
ul, ol { margin: 0.5rem 0 1rem 1.5rem; }
li { margin-bottom: 0.3rem; }
li ul, li ol { margin-top: 0.2rem; margin-bottom: 0.2rem; }

/* CODE */
pre { background: var(--code-bg); border: 1px solid var(--code-border); border-radius: 8px; padding: 1rem; overflow-x: auto; margin: 0.8rem 0 1.2rem; font-size: 0.88rem; line-height: 1.5; }
code { font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace; font-size: 0.88em; }
:not(pre)>code { background: var(--code-bg); border: 1px solid var(--code-border); padding: 0.15em 0.4em; border-radius: 4px; }

/* TABLES */
table { width: 100%; border-collapse: collapse; margin: 0.8rem 0 1.2rem; font-size: 0.9rem; }
th { background: var(--bg3); text-align: left; padding: 0.6rem 0.8rem; border: 1px solid var(--border); color: var(--accent2); }
td { padding: 0.5rem 0.8rem; border: 1px solid var(--border); }

/* CARDS */
.card { background: var(--bg2); border: 1px solid var(--border); border-radius: 12px; padding: 1.2rem; margin: 0.8rem 0; }
.card-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; margin: 1rem 0; }
.badge { display: inline-block; padding: 0.15em 0.6em; border-radius: 12px; font-size: 0.78rem; font-weight: 600; }
.badge-new { background: #22c55e22; color: var(--green); border: 1px solid #22c55e44; }
.badge-security { background: #ef444422; color: var(--red); border: 1px solid #ef444444; }
.badge-experimental { background: #eab30822; color: var(--yellow); border: 1px solid #eab30844; }

/* TIPS */
.tip, .warning, .note { border-radius: 8px; padding: 0.8rem 1rem; margin: 0.8rem 0; border-left: 4px solid; }
.tip { background: #22c55e11; border-color: var(--green); }
.warning { background: #ef444411; border-color: var(--red); }
.note { background: #3b82f611; border-color: var(--blue); }
.tip::before { content: "ğŸ’¡ "; }
.warning::before { content: "âš ï¸ "; }
.note::before { content: "ğŸ“ "; }

/* TOC */
.toc { background: var(--bg2); border: 1px solid var(--border); border-radius: 12px; padding: 1rem 1.5rem; margin: 1rem 0 2rem; }
.toc summary { cursor: pointer; font-weight: 600; color: var(--accent2); }
.toc ul { margin-top: 0.5rem; }
.toc li { font-size: 0.9rem; }

/* EXERCISE */
.exercise { background: var(--bg2); border: 1px solid var(--accent); border-radius: 12px; padding: 1.2rem; margin: 1rem 0; }
.exercise h4 { color: var(--accent2); margin-top: 0; }
.difficulty { display: inline-block; font-size: 0.8rem; margin-left: 0.5rem; }
.diff-easy { color: var(--green); }
.diff-medium { color: var(--yellow); }
.diff-hard { color: var(--red); }

/* RESPONSIVE */
@media (max-width: 768px) {
  .topbar-inner { font-size: 0.85rem; }
  .tab { padding: 0.6rem 0.8rem; }
  h1 { font-size: 1.6rem; }
  h2 { font-size: 1.3rem; }
  .content { padding: 1rem; }
}

/* HIGHLIGHT */
mark { background: #7c3aed33; color: var(--text); padding: 0.1em 0.2em; border-radius: 3px; }

/* COLLAPSE */
details { margin: 0.5rem 0; }
details summary { cursor: pointer; color: var(--accent2); font-weight: 500; }
details[open] summary { margin-bottom: 0.5rem; }
</style>
</head>
<body>

<div class="topbar">
<div class="topbar-inner">
<div class="logo">ğŸ§  HyperLearner</div>
<div class="tab active" data-tab="fundamentals">Fondamentaux</div>
<div class="tab" data-tab="advanced">AvancÃ©</div>
<div class="tab" data-tab="security">ğŸ”’ SÃ©curitÃ©</div>
<div class="tab" data-tab="worktrees">ğŸŒ³ Worktrees</div>
<div class="tab" data-tab="exercises">ğŸ¯ Exercices</div>
<div class="tab" data-tab="cheatsheet">ğŸ“‹ Cheatsheet</div>
</div>
</div>

<div class="search-bar">
<input type="text" id="search" placeholder="ğŸ” Rechercher dans le guide..." />
</div>

<!-- ======================= FUNDAMENTALS ======================= -->
<div class="content active" id="fundamentals">
<h1>Claude Code â€” Fondamentaux</h1>
<p><span class="badge badge-new">2026</span> Le guide complet de l'outil CLI d'Anthropic pour le dÃ©veloppement assistÃ© par IA.</p>

<details class="toc">
<summary>ğŸ“‘ Table des matiÃ¨res</summary>
<ul>
<li><a href="#f-what">Qu'est-ce que Claude Code ?</a></li>
<li><a href="#f-install">Installation</a></li>
<li><a href="#f-arch">Architecture</a></li>
<li><a href="#f-commands">Commandes essentielles</a></li>
<li><a href="#f-claudemd">CLAUDE.md â€” La mÃ©moire projet</a></li>
<li><a href="#f-models">ModÃ¨les & configuration</a></li>
<li><a href="#f-modes">Modes de permission</a></li>
</ul>
</details>

<h2 id="f-what">Qu'est-ce que Claude Code ?</h2>
<p>Claude Code est un <strong>outil CLI agentique</strong> qui vit dans ton terminal et comprend ton codebase. Il peut :</p>
<ul>
<li><strong>Lire et Ã©crire</strong> des fichiers dans ton projet</li>
<li><strong>ExÃ©cuter des commandes</strong> shell (build, test, lint, deploy)</li>
<li><strong>Chercher</strong> dans ta codebase (grep, glob, recherche sÃ©mantique)</li>
<li><strong>Naviguer le web</strong> (fetch URLs, documentation)</li>
<li><strong>GÃ©rer Git</strong> (commits, branches, PRs)</li>
<li><strong>DÃ©lÃ©guer</strong> Ã  des sous-agents spÃ©cialisÃ©s</li>
</ul>
<p>Contrairement Ã  un chatbot classique, Claude Code a un <strong>accÃ¨s direct Ã  ton systÃ¨me</strong> et peut prendre des actions concrÃ¨tes. Il fonctionne en boucle agentique : il rÃ©flÃ©chit, appelle un outil, observe le rÃ©sultat, et continue.</p>

<h2 id="f-install">Installation</h2>
<pre><code># Installer via npm
npm install -g @anthropic-ai/claude-code

# VÃ©rifier l'installation
claude --version

# Premier lancement (setup auth)
claude</code></pre>

<h3>PrÃ©requis</h3>
<ul>
<li><strong>Node.js 18+</strong></li>
<li><strong>Git</strong> (pour worktrees, PR, etc.)</li>
<li>Un compte <strong>Anthropic</strong> (Max, Pro, ou API key)</li>
</ul>

<h3>Authentification</h3>
<table>
<tr><th>MÃ©thode</th><th>Config</th><th>IdÃ©al pour</th></tr>
<tr><td>Claude Max/Pro</td><td>OAuth automatique au premier lancement</td><td>Usage personnel</td></tr>
<tr><td>API Key</td><td><code>ANTHROPIC_API_KEY</code> env var</td><td>CI/CD, automation</td></tr>
<tr><td>AWS Bedrock</td><td><code>claude --provider bedrock</code></td><td>Enterprise</td></tr>
<tr><td>Google Vertex</td><td><code>claude --provider vertex</code></td><td>Enterprise GCP</td></tr>
</table>

<h2 id="f-arch">Architecture</h2>
<p>Claude Code fonctionne en <strong>boucle agentique</strong> :</p>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TON PROMPT                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CLAUDE (raisonnement + thinking)        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Extended Thinking (Opus 4.6)      â”‚  â”‚
â”‚  â”‚ â†’ Analyse, planifie, raisonne     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TOOL CALLS (en boucle)                  â”‚
â”‚  Read â†’ Grep â†’ Edit â†’ Bash â†’ WebFetch   â”‚
â”‚  â†“ observe rÃ©sultat â†“ continue          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  RÃ‰PONSE FINALE                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>

<h3>Outils intÃ©grÃ©s</h3>
<table>
<tr><th>Outil</th><th>Permission</th><th>Description</th></tr>
<tr><td><code>Read</code></td><td>Auto</td><td>Lire des fichiers</td></tr>
<tr><td><code>Grep</code></td><td>Auto</td><td>Chercher dans les fichiers (regex)</td></tr>
<tr><td><code>Glob</code></td><td>Auto</td><td>Lister des fichiers par pattern</td></tr>
<tr><td><code>Edit</code></td><td>Session</td><td>Modifier des fichiers</td></tr>
<tr><td><code>Write</code></td><td>Session</td><td>CrÃ©er/Ã©craser des fichiers</td></tr>
<tr><td><code>Bash</code></td><td>Permanent/projet</td><td>ExÃ©cuter des commandes shell</td></tr>
<tr><td><code>WebFetch</code></td><td>Demande</td><td>TÃ©lÃ©charger du contenu web</td></tr>
<tr><td><code>Task</code></td><td>Demande</td><td>Lancer un sous-agent</td></tr>
</table>

<h2 id="f-commands">Commandes essentielles</h2>
<h3>Lancement</h3>
<pre><code># Session interactive
claude

# One-shot (headless)
claude -p "Explique l'architecture de ce projet"

# Reprendre la derniÃ¨re session
claude --continue

# Reprendre par nom
claude --resume auth-refactor

# Reprendre depuis une PR
claude --from-pr 123

# Ajouter un rÃ©pertoire supplÃ©mentaire
claude --add-dir ../shared-lib</code></pre>

<h3>Commandes in-session (slash commands)</h3>
<table>
<tr><th>Commande</th><th>Action</th></tr>
<tr><td><code>/help</code></td><td>Aide complÃ¨te</td></tr>
<tr><td><code>/compact</code></td><td>Compacter le contexte (libÃ©rer de la fenÃªtre)</td></tr>
<tr><td><code>/permissions</code></td><td>GÃ©rer les permissions</td></tr>
<tr><td><code>/model</code></td><td>Changer de modÃ¨le / effort level</td></tr>
<tr><td><code>/agents</code></td><td>GÃ©rer les sous-agents</td></tr>
<tr><td><code>/sandbox</code></td><td>Configurer le sandboxing</td></tr>
<tr><td><code>/resume</code></td><td>Reprendre une session prÃ©cÃ©dente</td></tr>
<tr><td><code>/rename</code></td><td>Nommer la session courante</td></tr>
<tr><td><code>/config</code></td><td>Configuration globale</td></tr>
<tr><td><code>/statusline</code></td><td>Configurer la barre de status</td></tr>
<tr><td><code>Shift+Tab</code></td><td>Cycler entre les modes de permission</td></tr>
<tr><td><code>Ctrl+O</code></td><td>Toggle verbose (voir le thinking)</td></tr>
</table>

<h2 id="f-claudemd">CLAUDE.md â€” La mÃ©moire projet</h2>
<p>Le fichier <code>CLAUDE.md</code> est la <strong>mÃ©moire contextuelle</strong> de Claude Code. Il est automatiquement injectÃ© dans le prompt systÃ¨me Ã  chaque session.</p>

<h3>Emplacements (par prioritÃ©)</h3>
<table>
<tr><th>Fichier</th><th>PortÃ©e</th><th>Partageable</th></tr>
<tr><td><code>~/.claude/CLAUDE.md</code></td><td>Tous tes projets</td><td>Non</td></tr>
<tr><td><code>.claude/CLAUDE.md</code></td><td>Ce projet (committÃ©)</td><td>Oui</td></tr>
<tr><td><code>.claude/CLAUDE.local.md</code></td><td>Ce projet (gitignored)</td><td>Non</td></tr>
<tr><td><code>CLAUDE.md</code> (racine)</td><td>Ce projet</td><td>Oui</td></tr>
</table>

<div class="tip">Quand tu travailles dans un sous-dossier, les <code>CLAUDE.md</code> des rÃ©pertoires parents sont aussi chargÃ©s. IdÃ©al pour les monorepos.</div>

<h3>Que mettre dedans ?</h3>
<pre><code># CLAUDE.md

## Build & Test
- `npm run build` pour builder
- `npm test` pour les tests
- `npm run lint` pour le linting

## Conventions
- TypeScript strict, pas de `any`
- Tests avec Vitest
- Commits conventionnels (feat:, fix:, etc.)

## Architecture
- /src/api â†’ Routes Express
- /src/services â†’ Business logic
- /src/db â†’ Prisma schemas</code></pre>

<h2 id="f-models">ModÃ¨les & configuration</h2>
<table>
<tr><th>ModÃ¨le</th><th>Force</th><th>Usage</th></tr>
<tr><td><strong>Opus 4.6</strong></td><td>Raisonnement profond, adaptif</td><td>TÃ¢ches complexes, architecture</td></tr>
<tr><td><strong>Sonnet 4.6</strong></td><td>Rapide, bon rapport qualitÃ©/prix</td><td>TÃ¢ches courantes, Ã©dition</td></tr>
<tr><td><strong>Haiku</strong></td><td>Ultra-rapide, Ã©conomique</td><td>Sous-agents Explore, recherche</td></tr>
</table>

<h3>Effort Level (Opus 4.6)</h3>
<p>Opus 4.6 utilise le <strong>raisonnement adaptatif</strong> : il ajuste dynamiquement le thinking selon le niveau d'effort.</p>
<table>
<tr><th>Niveau</th><th>Thinking</th><th>Quand l'utiliser</th></tr>
<tr><td><code>low</code></td><td>Minimal</td><td>Questions simples, grep, navigation</td></tr>
<tr><td><code>medium</code></td><td>ModÃ©rÃ©</td><td>Ã‰dition standard, bugs simples</td></tr>
<tr><td><code>high</code> (dÃ©faut)</td><td>Maximum</td><td>Architecture, bugs complexes, planning</td></tr>
</table>

<h2 id="f-modes">Modes de permission</h2>
<table>
<tr><th>Mode</th><th>Key</th><th>Comportement</th></tr>
<tr><td>Ask permissions</td><td><code>default</code></td><td>Demande avant chaque Ã©dition/commande</td></tr>
<tr><td>Auto accept edits</td><td><code>acceptEdits</code></td><td>Auto-accepte les Ã©ditions, demande pour bash</td></tr>
<tr><td>Plan mode</td><td><code>plan</code></td><td>Read-only, planifie sans modifier</td></tr>
<tr><td>Don't ask</td><td><code>dontAsk</code></td><td>Auto-refuse sauf rules explicites</td></tr>
<tr><td>Bypass</td><td><code>bypassPermissions</code></td><td>âš ï¸ Tout passe, containers uniquement</td></tr>
</table>
<div class="warning">Le mode <code>bypassPermissions</code> dÃ©sactive TOUTES les vÃ©rifications. Uniquement dans des environnements isolÃ©s (containers, VMs).</div>
</div>

<!-- ======================= ADVANCED ======================= -->
<div class="content" id="advanced">
<h1>Claude Code â€” FonctionnalitÃ©s AvancÃ©es</h1>

<details class="toc">
<summary>ğŸ“‘ Table des matiÃ¨res</summary>
<ul>
<li><a href="#a-subagents">Sous-agents</a></li>
<li><a href="#a-teams">Agent Teams</a></li>
<li><a href="#a-hooks">Hooks</a></li>
<li><a href="#a-skills">Skills</a></li>
<li><a href="#a-mcp">MCP (Model Context Protocol)</a></li>
<li><a href="#a-headless">Mode Headless & CI/CD</a></li>
<li><a href="#a-desktop">Claude Code Desktop</a></li>
<li><a href="#a-context">Gestion du contexte</a></li>
</ul>
</details>

<h2 id="a-subagents">Sous-agents</h2>
<p>Les sous-agents sont des <strong>assistants IA spÃ©cialisÃ©s</strong> qui tournent dans leur propre fenÃªtre de contexte avec un prompt systÃ¨me custom, des outils spÃ©cifiques, et des permissions indÃ©pendantes.</p>

<h3>Sous-agents built-in</h3>
<div class="card-grid">
<div class="card">
<h4>ğŸ” Explore</h4>
<p><strong>ModÃ¨le :</strong> Haiku (rapide)</p>
<p><strong>Outils :</strong> Read-only</p>
<p>Recherche et analyse de codebase. Claude y dÃ©lÃ¨gue quand il doit chercher sans modifier.</p>
</div>
<div class="card">
<h4>ğŸ“‹ Plan</h4>
<p><strong>ModÃ¨le :</strong> HÃ©ritÃ©</p>
<p><strong>Outils :</strong> Read-only</p>
<p>Recherche en mode plan. UtilisÃ© pour rassembler le contexte avant de proposer un plan.</p>
</div>
<div class="card">
<h4>ğŸ› ï¸ General-purpose</h4>
<p><strong>ModÃ¨le :</strong> HÃ©ritÃ©</p>
<p><strong>Outils :</strong> Tous</p>
<p>Pour les tÃ¢ches complexes multi-Ã©tapes nÃ©cessitant exploration ET modification.</p>
</div>
</div>

<h3>CrÃ©er un sous-agent custom</h3>
<pre><code># ~/.claude/agents/code-reviewer.md
---
name: code-reviewer
description: Reviews code for quality and best practices
tools: Read, Glob, Grep
model: sonnet
---

You are a code reviewer. Analyze the code and provide
specific, actionable feedback on quality, security,
and best practices.</code></pre>

<h3>Emplacements (par prioritÃ©)</h3>
<table>
<tr><th>Emplacement</th><th>PortÃ©e</th><th>PrioritÃ©</th></tr>
<tr><td><code>--agents</code> CLI flag</td><td>Session courante</td><td>1 (max)</td></tr>
<tr><td><code>.claude/agents/</code></td><td>Projet</td><td>2</td></tr>
<tr><td><code>~/.claude/agents/</code></td><td>Personnel</td><td>3</td></tr>
<tr><td>Plugin agents</td><td>OÃ¹ le plugin est actif</td><td>4</td></tr>
</table>

<h3>Frontmatter disponible</h3>
<table>
<tr><th>Champ</th><th>Description</th></tr>
<tr><td><code>name</code></td><td>Identifiant unique (requis)</td></tr>
<tr><td><code>description</code></td><td>Quand dÃ©lÃ©guer Ã  cet agent (requis)</td></tr>
<tr><td><code>tools</code></td><td>Outils autorisÃ©s</td></tr>
<tr><td><code>disallowedTools</code></td><td>Outils interdits</td></tr>
<tr><td><code>model</code></td><td>sonnet, opus, haiku, inherit</td></tr>
<tr><td><code>permissionMode</code></td><td>Mode de permission</td></tr>
<tr><td><code>maxTurns</code></td><td>Nombre max de tours</td></tr>
<tr><td><code>skills</code></td><td>Skills Ã  charger</td></tr>
<tr><td><code>mcpServers</code></td><td>Serveurs MCP dÃ©diÃ©s</td></tr>
<tr><td><code>hooks</code></td><td>Hooks spÃ©cifiques</td></tr>
</table>

<h2 id="a-teams">Agent Teams <span class="badge badge-experimental">EXPERIMENTAL</span></h2>
<p>Les Agent Teams permettent de coordonner <strong>plusieurs instances Claude Code</strong> travaillant ensemble. Un session "lead" coordonne, les "teammates" travaillent indÃ©pendamment et communiquent directement entre eux.</p>

<h3>Activer</h3>
<pre><code>// settings.json
{
  "env": {
    "CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS": "1"
  }
}</code></pre>

<h3>Agent Teams vs Sous-agents</h3>
<table>
<tr><th></th><th>Sous-agents</th><th>Agent Teams</th></tr>
<tr><td><strong>Contexte</strong></td><td>Propre, rÃ©sultats retournÃ©s au parent</td><td>Propre, totalement indÃ©pendant</td></tr>
<tr><td><strong>Communication</strong></td><td>Rapport au parent uniquement</td><td>Communication directe entre teammates</td></tr>
<tr><td><strong>Coordination</strong></td><td>Agent principal gÃ¨re tout</td><td>Task list partagÃ©e, auto-coordination</td></tr>
<tr><td><strong>CoÃ»t tokens</strong></td><td>Moins cher</td><td>Plus cher (chaque teammate = instance Claude)</td></tr>
<tr><td><strong>IdÃ©al pour</strong></td><td>TÃ¢ches focalisÃ©es</td><td>Travail nÃ©cessitant collaboration</td></tr>
</table>

<h3>Cas d'usage</h3>
<ul>
<li><strong>Research & review</strong> â€” Explorer un problÃ¨me sous plusieurs angles simultanÃ©ment</li>
<li><strong>Nouveaux modules</strong> â€” Chaque teammate gÃ¨re une piÃ¨ce indÃ©pendante</li>
<li><strong>Debug avec hypothÃ¨ses concurrentes</strong> â€” Tester diffÃ©rentes thÃ©ories en parallÃ¨le</li>
<li><strong>Cross-layer</strong> â€” Frontend, backend, tests : un teammate par couche</li>
</ul>

<h3>Modes d'affichage</h3>
<table>
<tr><th>Mode</th><th>Description</th></tr>
<tr><td><code>in-process</code></td><td>Tous dans le mÃªme terminal. <code>Shift+Down</code> pour naviguer.</td></tr>
<tr><td><code>tmux</code></td><td>Chaque teammate dans son propre pane split.</td></tr>
<tr><td><code>auto</code> (dÃ©faut)</td><td>Split si dÃ©jÃ  dans tmux, sinon in-process.</td></tr>
</table>

<h2 id="a-hooks">Hooks</h2>
<p>Les hooks sont des <strong>commandes shell ou prompts LLM</strong> qui s'exÃ©cutent automatiquement Ã  des points spÃ©cifiques du cycle de vie de Claude Code.</p>

<h3>Ã‰vÃ©nements disponibles</h3>
<table>
<tr><th>Ã‰vÃ©nement</th><th>Quand</th><th>Peut bloquer ?</th></tr>
<tr><td><code>SessionStart</code></td><td>DÃ©but/reprise de session</td><td>Non</td></tr>
<tr><td><code>UserPromptSubmit</code></td><td>Avant traitement du prompt</td><td>Non</td></tr>
<tr><td><code>PreToolUse</code></td><td>Avant un appel d'outil</td><td>âœ… Oui</td></tr>
<tr><td><code>PostToolUse</code></td><td>AprÃ¨s un appel d'outil rÃ©ussi</td><td>Non</td></tr>
<tr><td><code>PermissionRequest</code></td><td>Dialog de permission</td><td>âœ… Oui</td></tr>
<tr><td><code>Stop</code></td><td>Claude finit de rÃ©pondre</td><td>Non</td></tr>
<tr><td><code>SubagentStart/Stop</code></td><td>Lancement/fin d'un sous-agent</td><td>Non</td></tr>
<tr><td><code>WorktreeCreate</code></td><td>CrÃ©ation d'un worktree</td><td>Remplace le comportement par dÃ©faut</td></tr>
<tr><td><code>WorktreeRemove</code></td><td>Suppression d'un worktree</td><td>Remplace le comportement par dÃ©faut</td></tr>
<tr><td><code>PreCompact</code></td><td>Avant compaction du contexte</td><td>Non</td></tr>
<tr><td><code>SessionEnd</code></td><td>Fin de session</td><td>Non</td></tr>
</table>

<h3>Exemple : Bloquer rm -rf</h3>
<pre><code>// .claude/settings.json
{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/block-rm.sh"
          }
        ]
      }
    ]
  }
}</code></pre>
<pre><code>#!/bin/bash
# .claude/hooks/block-rm.sh
COMMAND=$(jq -r '.tool_input.command')

if echo "$COMMAND" | grep -q 'rm -rf'; then
  jq -n '{
    hookSpecificOutput: {
      hookEventName: "PreToolUse",
      permissionDecision: "deny",
      permissionDecisionReason: "Destructive command blocked"
    }
  }'
else
  exit 0
fi</code></pre>

<h2 id="a-skills">Skills</h2>
<p>Les skills Ã©tendent les capacitÃ©s de Claude Code avec des instructions rÃ©utilisables. Chaque skill est un fichier <code>SKILL.md</code> avec un frontmatter YAML.</p>

<h3>CrÃ©er une skill</h3>
<pre><code># ~/.claude/skills/explain-code/SKILL.md
---
name: explain-code
description: Explains code with visual diagrams and analogies
---

When explaining code, always include:
1. **Start with an analogy**
2. **Draw a diagram** (ASCII art)
3. **Walk through the code** step-by-step
4. **Highlight a gotcha**</code></pre>

<h3>PortÃ©es</h3>
<table>
<tr><th>Emplacement</th><th>PortÃ©e</th></tr>
<tr><td><code>~/.claude/skills/</code></td><td>Tous tes projets</td></tr>
<tr><td><code>.claude/skills/</code></td><td>Ce projet</td></tr>
<tr><td>Plugin skills</td><td>OÃ¹ le plugin est actif</td></tr>
</table>

<h3>Frontmatter</h3>
<table>
<tr><th>Champ</th><th>Description</th></tr>
<tr><td><code>name</code></td><td>Nom (devient /slash-command)</td></tr>
<tr><td><code>description</code></td><td>Quand utiliser (pour invocation auto)</td></tr>
<tr><td><code>disable-model-invocation</code></td><td>EmpÃªcher l'invocation auto par Claude</td></tr>
<tr><td><code>allowed-tools</code></td><td>Outils autorisÃ©s</td></tr>
<tr><td><code>context</code></td><td><code>fork</code> = exÃ©cuter dans un sous-agent</td></tr>
</table>

<h2 id="a-mcp">MCP (Model Context Protocol)</h2>
<p>Claude Code peut se connecter Ã  des <strong>serveurs MCP</strong> pour accÃ©der Ã  des outils et resources externes (GitHub, Slack, bases de donnÃ©es, etc.).</p>
<pre><code>// .claude/settings.json
{
  "mcpServers": {
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"]
    }
  }
}</code></pre>

<h2 id="a-headless">Mode Headless & CI/CD</h2>
<p>Utiliser Claude Code sans interaction dans des pipelines CI/CD :</p>
<pre><code># Mode headless avec prompt
claude -p "Run all tests and fix failures" --output-format json

# Avec mode permission bypass (containers uniquement !)
claude -p "..." --dangerously-skip-permissions

# Avec un fichier de sortie structurÃ©
claude -p "Analyze security of this PR" --output-format stream-json</code></pre>

<h2 id="a-desktop">Claude Code Desktop <span class="badge badge-new">NEW</span></h2>
<p>L'onglet Code dans Claude Desktop ajoute une interface graphique sur Claude Code :</p>
<ul>
<li><strong>Visual diff review</strong> avec commentaires inline</li>
<li><strong>Live app preview</strong> avec dev servers intÃ©grÃ©s</li>
<li><strong>GitHub PR monitoring</strong> avec auto-fix et auto-merge</li>
<li><strong>Sessions parallÃ¨les</strong> avec isolation Git worktree automatique</li>
<li><strong>Connecteurs</strong> : GitHub, Slack, Linear, Notion, etc.</li>
<li><strong>Environments</strong> : Local, SSH, ou Cloud (remote)</li>
</ul>

<h2 id="a-context">Gestion du contexte</h2>
<h3>Compaction automatique</h3>
<p>Quand la fenÃªtre de contexte se remplit, Claude rÃ©sume automatiquement la conversation et continue. Tu peux aussi forcer :</p>
<pre><code>/compact</code></pre>

<h3>Extended Thinking</h3>
<p>Le thinking est activÃ© par dÃ©faut. Avec <strong>Opus 4.6</strong>, il est adaptatif (ajustÃ© selon l'effort level). Avec les autres modÃ¨les, budget fixe de 31,999 tokens max.</p>
<table>
<tr><th>Action</th><th>Comment</th></tr>
<tr><td>Toggle on/off</td><td><code>Option+T</code> (macOS) / <code>Alt+T</code></td></tr>
<tr><td>Voir le thinking</td><td><code>Ctrl+O</code> (verbose mode)</td></tr>
<tr><td>Limiter le budget</td><td><code>MAX_THINKING_TOKENS=10000</code></td></tr>
<tr><td>Ajuster l'effort</td><td><code>/model</code> â†’ effort level</td></tr>
</table>
</div>

<!-- ======================= SECURITY ======================= -->
<div class="content" id="security">
<h1>ğŸ”’ SÃ©curitÃ© â€” Claude Code</h1>
<p><span class="badge badge-security">CRITIQUE</span> <span class="badge badge-new">NOUVEAU</span> Tout ce que tu dois savoir sur le modÃ¨le de sÃ©curitÃ© de Claude Code : permissions, sandboxing, managed settings, et protection contre l'injection.</p>

<details class="toc">
<summary>ğŸ“‘ Table des matiÃ¨res</summary>
<ul>
<li><a href="#s-model">ModÃ¨le de sÃ©curitÃ©</a></li>
<li><a href="#s-permissions">SystÃ¨me de permissions</a></li>
<li><a href="#s-rules">Syntaxe des rÃ¨gles</a></li>
<li><a href="#s-sandbox">Sandboxing</a></li>
<li><a href="#s-managed">Managed Settings (Enterprise)</a></li>
<li><a href="#s-injection">Protection prompt injection</a></li>
<li><a href="#s-best">Bonnes pratiques</a></li>
</ul>
</details>

<h2 id="s-model">ModÃ¨le de sÃ©curitÃ© â€” Vue d'ensemble</h2>
<p>Claude Code utilise une <strong>dÃ©fense en profondeur</strong> avec deux couches complÃ©mentaires :</p>
<div class="card-grid">
<div class="card">
<h4>ğŸ”‘ Permissions</h4>
<p>ContrÃ´lent <strong>quels outils</strong> Claude peut utiliser et <strong>quels fichiers/domaines</strong> il peut accÃ©der. S'appliquent Ã  TOUS les outils.</p>
</div>
<div class="card">
<h4>ğŸ–ï¸ Sandboxing</h4>
<p>Fournit une <strong>isolation OS-level</strong> (filesystem + rÃ©seau) pour les commandes Bash. S'applique uniquement Ã  Bash et ses processus enfants.</p>
</div>
</div>

<h2 id="s-permissions">SystÃ¨me de permissions</h2>
<h3>Types de permissions</h3>
<table>
<tr><th>Type d'outil</th><th>Exemple</th><th>Approbation</th><th>"Don't ask again"</th></tr>
<tr><td>Read-only</td><td>Lecture fichiers, Grep</td><td>Non requise</td><td>N/A</td></tr>
<tr><td>Commandes Bash</td><td>ExÃ©cution shell</td><td>Oui</td><td>Permanent par projet + commande</td></tr>
<tr><td>Modification fichiers</td><td>Edit/Write</td><td>Oui</td><td>Jusqu'Ã  fin de session</td></tr>
</table>

<h3>Types de rÃ¨gles</h3>
<ul>
<li><strong>Allow</strong> â€” Autorise sans demander confirmation</li>
<li><strong>Ask</strong> â€” Demande confirmation Ã  chaque fois</li>
<li><strong>Deny</strong> â€” Bloque complÃ¨tement</li>
</ul>
<div class="note">Ordre d'Ã©valuation : <strong>deny â†’ ask â†’ allow</strong>. La premiÃ¨re rÃ¨gle qui matche gagne. Les deny sont TOUJOURS prioritaires.</div>

<h2 id="s-rules">Syntaxe des rÃ¨gles de permission</h2>

<h3>Bash â€” Wildcards</h3>
<pre><code>{
  "permissions": {
    "allow": [
      "Bash(npm run *)",       // npm run build, npm run test, etc.
      "Bash(git commit *)",    // git commit -m "..."
      "Bash(* --version)",     // node --version, python --version
      "Bash(* --help *)"       // commande --help [args]
    ],
    "deny": [
      "Bash(git push *)"      // Interdit push
    ]
  }
}</code></pre>
<div class="warning"><strong>L'espace avant <code>*</code> compte !</strong> <code>Bash(ls *)</code> matche <code>ls -la</code> mais PAS <code>lsof</code>. <code>Bash(ls*)</code> matche les deux.</div>

<div class="warning"><strong>Claude connait les opÃ©rateurs shell !</strong> Une rÃ¨gle <code>Bash(safe-cmd *)</code> ne donnera PAS permission pour <code>safe-cmd && other-cmd</code>.</div>

<h3>Read & Edit â€” Patterns gitignore</h3>
<table>
<tr><th>Pattern</th><th>Signification</th><th>Exemple</th></tr>
<tr><td><code>//path</code></td><td>Chemin absolu filesystem</td><td><code>Read(//Users/alice/secrets/**)</code></td></tr>
<tr><td><code>~/path</code></td><td>Depuis le home</td><td><code>Read(~/Documents/*.pdf)</code></td></tr>
<tr><td><code>/path</code></td><td>Relatif au fichier settings</td><td><code>Edit(/src/**/*.ts)</code></td></tr>
<tr><td><code>path</code></td><td>Relatif au CWD</td><td><code>Read(*.env)</code></td></tr>
</table>
<div class="warning"><code>/Users/alice/file</code> n'est PAS un chemin absolu ! C'est relatif au settings. Utilisez <code>//Users/alice/file</code> pour un chemin absolu.</div>

<h3>WebFetch</h3>
<pre><code>"allow": ["WebFetch(domain:example.com)"]
"deny": ["WebFetch(domain:evil.com)"]</code></pre>

<h3>MCP</h3>
<pre><code>"allow": ["mcp__puppeteer"]              // tous les outils du serveur
"allow": ["mcp__puppeteer__navigate"]    // un outil spÃ©cifique</code></pre>

<h3>Task (sous-agents)</h3>
<pre><code>"deny": ["Task(Explore)"]    // DÃ©sactiver le sous-agent Explore
"deny": ["Task(Plan)"]       // DÃ©sactiver le sous-agent Plan</code></pre>

<h2 id="s-sandbox">Sandboxing <span class="badge badge-new">NOUVEAU</span></h2>
<p>Le sandboxing utilise des <strong>primitives OS-level</strong> pour isoler les commandes Bash :</p>

<h3>ImplÃ©mentation par OS</h3>
<table>
<tr><th>OS</th><th>Technologie</th><th>Notes</th></tr>
<tr><td>macOS</td><td>Seatbelt</td><td>Fonctionne out-of-the-box</td></tr>
<tr><td>Linux/WSL2</td><td>Bubblewrap</td><td>Installer : <code>apt install bubblewrap socat</code></td></tr>
<tr><td>WSL1</td><td>â€”</td><td>Non supportÃ©</td></tr>
</table>

<h3>Activer</h3>
<pre><code>/sandbox</code></pre>

<h3>Modes sandbox</h3>
<table>
<tr><th>Mode</th><th>Comportement</th></tr>
<tr><td><strong>Auto-allow</strong></td><td>Commandes sandboxÃ©es = auto-approuvÃ©es. Commandes impossibles Ã  sandboxer = flow de permission normal.</td></tr>
<tr><td><strong>Regular permissions</strong></td><td>Toutes les commandes passent par le flow de permission, mÃªme sandboxÃ©es.</td></tr>
</table>

<h3>Isolation filesystem</h3>
<ul>
<li>âœ… Lecture/Ã©criture dans le rÃ©pertoire de travail et sous-rÃ©pertoires</li>
<li>âœ… Lecture sur tout le disque (sauf rÃ©pertoires deny)</li>
<li>âŒ Modification hors du rÃ©pertoire de travail sans permission explicite</li>
</ul>

<h3>Isolation rÃ©seau</h3>
<ul>
<li>Proxy rÃ©seau tournant <strong>en dehors</strong> du sandbox</li>
<li>Seuls les domaines approuvÃ©s sont accessibles</li>
<li>Nouvelles requÃªtes de domaine â†’ prompt de permission</li>
<li>Les restrictions s'appliquent Ã  <strong>tous les sous-processus</strong></li>
</ul>

<h3>Protection contre l'injection</h3>
<div class="card">
<h4>ğŸ›¡ï¸ MÃªme si un attaquant manipule Claude Code via prompt injection :</h4>
<ul>
<li>âŒ Ne peut PAS modifier <code>~/.bashrc</code>, <code>/bin/</code>, ou fichiers systÃ¨me</li>
<li>âŒ Ne peut PAS exfiltrer de donnÃ©es vers des serveurs non-approuvÃ©s</li>
<li>âŒ Ne peut PAS tÃ©lÃ©charger de scripts malveillants</li>
<li>âŒ Ne peut PAS contacter de domaines non explicitement autorisÃ©s</li>
<li>âœ… Toutes les tentatives d'accÃ¨s hors sandbox sont bloquÃ©es au niveau OS</li>
<li>âœ… Notifications immÃ©diates quand les limites sont testÃ©es</li>
</ul>
</div>

<h3>Limitations de sÃ©curitÃ©</h3>
<div class="warning">
<strong>Risques Ã  connaÃ®tre :</strong>
<ul>
<li><strong>Domaines larges</strong> : autoriser <code>github.com</code> pourrait permettre l'exfiltration de donnÃ©es</li>
<li><strong>Domain fronting</strong> : possible de contourner le filtrage rÃ©seau dans certains cas</li>
<li><strong>Unix sockets</strong> : <code>allowUnixSockets</code> avec <code>/var/run/docker.sock</code> = accÃ¨s au host via Docker</li>
<li><strong>Permissions filesystem larges</strong> : Ã©criture dans <code>$PATH</code> ou <code>.bashrc</code> = escalade de privilÃ¨ges</li>
<li><strong>Linux nested sandbox</strong> : <code>enableWeakerNestedSandbox</code> rÃ©duit significativement la sÃ©curitÃ©</li>
</ul>
</div>

<h3>Config avancÃ©e</h3>
<pre><code>{
  "sandbox": {
    "network": {
      "httpProxyPort": 8080,
      "socksProxyPort": 8081
    }
  }
}</code></pre>
<p>Pour les organisations avec des besoins rÃ©seau avancÃ©s : proxy custom pour dÃ©crypter/inspecter HTTPS, logging, intÃ©gration avec l'infra sÃ©curitÃ© existante.</p>

<h3>Open Source</h3>
<p>Le runtime sandbox est disponible en package npm open source :</p>
<pre><code>npx @anthropic-ai/sandbox-runtime &lt;commande-Ã -sandboxer&gt;</code></pre>
<p>Utile pour sandboxer n'importe quel programme, pas seulement Claude Code (ex: serveurs MCP).</p>

<h2 id="s-managed">Managed Settings (Enterprise) <span class="badge badge-new">NOUVEAU</span></h2>
<p>Pour les organisations nÃ©cessitant un contrÃ´le centralisÃ© :</p>

<h3>Emplacements des fichiers managed</h3>
<table>
<tr><th>OS</th><th>Chemin</th></tr>
<tr><td>macOS</td><td><code>/Library/Application Support/ClaudeCode/managed-settings.json</code></td></tr>
<tr><td>Linux/WSL</td><td><code>/etc/claude-code/managed-settings.json</code></td></tr>
<tr><td>Windows</td><td><code>C:\Program Files\ClaudeCode\managed-settings.json</code></td></tr>
</table>
<div class="note">Ce sont des chemins systÃ¨me (pas <code>~/Library/...</code>) qui requiÃ¨rent des privilÃ¨ges admin. DÃ©ployÃ©s par l'IT.</div>

<h3>Settings managed-only</h3>
<table>
<tr><th>Setting</th><th>Description</th></tr>
<tr><td><code>disableBypassPermissionsMode</code></td><td>EmpÃªche le mode bypass et <code>--dangerously-skip-permissions</code></td></tr>
<tr><td><code>allowManagedPermissionRulesOnly</code></td><td>Seules les rules des managed settings s'appliquent</td></tr>
<tr><td><code>allowManagedHooksOnly</code></td><td>Seuls les hooks managed et SDK sont chargÃ©s</td></tr>
<tr><td><code>strictKnownMarketplaces</code></td><td>ContrÃ´le quels marketplaces de plugins sont autorisÃ©s</td></tr>
</table>

<h3>PrÃ©cÃ©dence des settings</h3>
<pre><code>Managed (max) â†’ CLI args â†’ Local project â†’ Shared project â†’ User (min)</code></pre>

<h2 id="s-injection">Protection contre le prompt injection</h2>
<div class="card">
<h4>DÃ©fense en profondeur</h4>
<ol>
<li><strong>Permissions</strong> â€” Bloquent les tentatives d'accÃ¨s avant mÃªme l'exÃ©cution</li>
<li><strong>Sandboxing</strong> â€” Isolation OS-level mÃªme si Claude est manipulÃ©</li>
<li><strong>Hooks PreToolUse</strong> â€” Validation custom avant chaque outil</li>
<li><strong>Managed settings</strong> â€” Politiques organisationnelles non-overridables</li>
<li><strong>Deny rules prioritaires</strong> â€” deny gagne TOUJOURS sur allow</li>
</ol>
</div>

<h2 id="s-best">Bonnes pratiques sÃ©curitÃ©</h2>
<ol>
<li><strong>Commence restrictif</strong> â€” Minimal d'abord, Ã©largis selon les besoins</li>
<li><strong>Active le sandboxing</strong> â€” RÃ©duit drastiquement la surface d'attaque</li>
<li><strong>Utilise les deny rules</strong> â€” Bloque explicitement ce qui ne doit JAMAIS Ãªtre accessible</li>
<li><strong>Monitore les violations</strong> â€” Review les tentatives d'accÃ¨s sandbox</li>
<li><strong>SÃ©pare les configs par environnement</strong> â€” Dev â‰  Prod</li>
<li><strong>Combine permissions + sandbox</strong> â€” Deux couches indÃ©pendantes</li>
<li><strong>Review les commandes Bash</strong> â€” Le plus grand vecteur de risque</li>
<li><strong>Utilise <code>dontAsk</code> mode</strong> â€” Pour les environnements de production, auto-deny sauf allowlist</li>
</ol>

<div class="card">
<h4>ğŸ”¥ Configuration sÃ©curisÃ©e recommandÃ©e</h4>
<pre><code>{
  "permissions": {
    "defaultMode": "default",
    "allow": [
      "Bash(npm run *)",
      "Bash(git status)",
      "Bash(git diff *)",
      "Bash(git log *)"
    ],
    "deny": [
      "Bash(rm -rf *)",
      "Bash(curl *)",
      "Bash(wget *)",
      "Bash(ssh *)",
      "Read(~/.ssh/**)",
      "Read(~/.aws/**)",
      "Read(**/.env)",
      "Edit(//etc/**)"
    ]
  }
}</code></pre>
</div>
</div>

<!-- ======================= WORKTREES ======================= -->
<div class="content" id="worktrees">
<h1>ğŸŒ³ Git Worktrees â€” Claude Code</h1>
<p><span class="badge badge-new">NOUVEAU</span> Le systÃ¨me de worktrees permet des <strong>sessions parallÃ¨les isolÃ©es</strong>, chacune sur sa propre branche Git.</p>

<details class="toc">
<summary>ğŸ“‘ Table des matiÃ¨res</summary>
<ul>
<li><a href="#w-what">Qu'est-ce qu'un Git Worktree ?</a></li>
<li><a href="#w-claude">Worktrees dans Claude Code</a></li>
<li><a href="#w-desktop">Worktrees dans Claude Desktop</a></li>
<li><a href="#w-cli">Worktrees en CLI</a></li>
<li><a href="#w-hooks">Hooks de Worktree</a></li>
<li><a href="#w-teams">Worktrees + Agent Teams</a></li>
<li><a href="#w-best">Bonnes pratiques</a></li>
</ul>
</details>

<h2 id="w-what">Qu'est-ce qu'un Git Worktree ?</h2>
<p>Un <strong>git worktree</strong> est une copie de travail secondaire de ton repo, liÃ©e au mÃªme dÃ©pÃ´t Git mais avec sa propre branche et son propre rÃ©pertoire de travail.</p>
<pre><code># Sans worktrees (classique)
~/project/          â† 1 seul checkout, 1 branche Ã  la fois

# Avec worktrees
~/project/                      â† branche main
~/project/.claude/worktrees/
  â”œâ”€â”€ session-abc/              â† branche feature-auth
  â””â”€â”€ session-def/              â† branche fix-login</code></pre>

<h3>Avantages</h3>
<ul>
<li><strong>Isolation parfaite</strong> â€” Chaque session a ses propres fichiers modifiÃ©s</li>
<li><strong>Pas de conflits</strong> â€” Deux sessions ne marchent jamais sur les mÃªmes fichiers</li>
<li><strong>Commit indÃ©pendant</strong> â€” Chaque worktree peut commit/push sÃ©parÃ©ment</li>
<li><strong>Pas de stash/switch</strong> â€” Plus besoin de jongler entre branches</li>
<li><strong>Ressources partagÃ©es</strong> â€” Les worktrees partagent le .git du repo principal (Ã©conomie disque)</li>
</ul>

<h2 id="w-claude">Worktrees dans Claude Code</h2>
<p>Claude Code intÃ¨gre nativement les worktrees pour permettre le <strong>travail parallÃ¨le isolÃ©</strong>.</p>

<h3>Activation automatique</h3>
<p>Dans <strong>Claude Desktop</strong>, quand tu cliques "+ New session", un worktree est automatiquement crÃ©Ã©. En CLI, utilise le flag <code>--worktree</code>.</p>

<h3>Cycle de vie</h3>
<pre><code>1. Nouvelle session  â†’  CrÃ©ation worktree + branche
2. Travail           â†’  Modifications isolÃ©es dans le worktree
3. Commit + PR       â†’  Commit dans la branche du worktree
4. Archivage         â†’  Suppression du worktree (optionnel)</code></pre>

<h2 id="w-desktop">Worktrees dans Claude Desktop <span class="badge badge-new">NEW</span></h2>
<p>L'intÃ©gration la plus fluide est dans Claude Desktop :</p>

<h3>Sessions parallÃ¨les</h3>
<ul>
<li><strong>Click "+ New session"</strong> â†’ Worktree automatique crÃ©Ã©</li>
<li>Chaque session = sa propre branche</li>
<li>Les changements d'une session n'affectent PAS les autres</li>
<li>Stockage par dÃ©faut : <code>&lt;project-root&gt;/.claude/worktrees/</code></li>
</ul>

<h3>Configuration Desktop</h3>
<table>
<tr><th>Option</th><th>Description</th><th>OÃ¹</th></tr>
<tr><td>Worktree location</td><td>RÃ©pertoire de stockage des worktrees</td><td>Settings â†’ Claude Code</td></tr>
<tr><td>Branch prefix</td><td>PrÃ©fixe pour les branches crÃ©Ã©es</td><td>Settings â†’ Claude Code</td></tr>
</table>
<div class="tip">Utilise un prÃ©fixe de branche comme <code>claude/</code> pour organiser les branches crÃ©Ã©es par Claude : <code>claude/feature-auth</code>, <code>claude/fix-login</code>, etc.</div>

<h3>Archiver un worktree</h3>
<p>Hover sur la session dans la sidebar â†’ cliquer l'icÃ´ne archive. Le worktree est supprimÃ© mais la branche Git reste.</p>

<h2 id="w-cli">Worktrees en CLI</h2>

<h3>Lancer avec worktree</h3>
<pre><code># Nouvelle session avec isolation worktree
claude --worktree

# Avec un nom de branche spÃ©cifique
claude --worktree --branch feature-auth

# Worktree dans un rÃ©pertoire custom
claude --worktree --worktree-path /tmp/my-worktree</code></pre>

<h3>Commandes Git utiles</h3>
<pre><code># Lister tous les worktrees
git worktree list

# Ajouter un worktree manuellement
git worktree add ../my-feature feature-branch

# Supprimer un worktree
git worktree remove ../my-feature

# Nettoyer les worktrees orphelins
git worktree prune</code></pre>

<h2 id="w-hooks">Hooks de Worktree <span class="badge badge-new">NOUVEAU</span></h2>
<p>Deux hooks spÃ©cifiques permettent de personnaliser le comportement des worktrees :</p>

<h3>WorktreeCreate</h3>
<p>Se dÃ©clenche quand un worktree est crÃ©Ã© via <code>--worktree</code> ou <code>isolation: "worktree"</code>. <strong>Remplace le comportement git par dÃ©faut.</strong></p>
<pre><code>{
  "hooks": {
    "WorktreeCreate": [
      {
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/setup-worktree.sh"
          }
        ]
      }
    ]
  }
}</code></pre>
<p>Cas d'usage :</p>
<ul>
<li>Installer des dÃ©pendances dans le nouveau worktree</li>
<li>Copier des fichiers de config locaux</li>
<li>Configurer des symlinks</li>
<li>Lancer un build initial</li>
</ul>

<h3>WorktreeRemove</h3>
<p>Se dÃ©clenche quand un worktree est supprimÃ© (Ã  la fin de session ou quand un sous-agent finit).</p>
<p>Cas d'usage :</p>
<ul>
<li>Nettoyage de fichiers temporaires</li>
<li>Suppression de containers Docker liÃ©s</li>
<li>Archivage de logs</li>
</ul>

<h2 id="w-teams">Worktrees + Agent Teams</h2>
<p>La combinaison worktrees + agent teams est <strong>extrÃªmement puissante</strong> :</p>

<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TEAM LEAD (branche main)                   â”‚
â”‚  Coordonne, assigne, synthÃ©tise             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  TEAMMATE 1 (worktree â†’ claude/frontend)    â”‚
â”‚  â†’ Travaille sur le UI                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  TEAMMATE 2 (worktree â†’ claude/backend)     â”‚
â”‚  â†’ Travaille sur l'API                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  TEAMMATE 3 (worktree â†’ claude/tests)       â”‚
â”‚  â†’ Ã‰crit les tests                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>

<ul>
<li>Chaque teammate a son propre worktree isolÃ©</li>
<li>Pas de conflits de fichiers entre teammates</li>
<li>Chacun peut commit/push indÃ©pendamment</li>
<li>Le lead merge les branches Ã  la fin</li>
</ul>

<h2 id="w-best">Bonnes pratiques Worktrees</h2>

<h3>âœ… Ã€ faire</h3>
<ul>
<li><strong>Utilise un prÃ©fixe de branche</strong> â€” <code>claude/</code> pour identifier facilement les branches crÃ©Ã©es par Claude</li>
<li><strong>Nettoie rÃ©guliÃ¨rement</strong> â€” <code>git worktree prune</code> pour supprimer les rÃ©fÃ©rences orphelines</li>
<li><strong>Utilise des hooks</strong> â€” <code>WorktreeCreate</code> pour setup automatique (npm install, etc.)</li>
<li><strong>Commit souvent</strong> â€” Chaque worktree a sa propre branche, profites-en</li>
<li><strong>Monitore le disque</strong> â€” Les worktrees partagent le .git mais dupliquent les fichiers de travail</li>
</ul>

<h3>âŒ Ã€ Ã©viter</h3>
<ul>
<li><strong>Trop de worktrees actifs</strong> â€” Chacun consomme de l'espace disque</li>
<li><strong>Modifier le mÃªme fichier</strong> dans deux worktrees â†’ conflits au merge</li>
<li><strong>Oublier de supprimer</strong> â€” Les worktrees s'accumulent dans <code>.claude/worktrees/</code></li>
<li><strong>Ignorer les conflits de merge</strong> â€” RÃ©soudre tÃ´t plutÃ´t que tard</li>
</ul>

<h3>Patterns recommandÃ©s</h3>
<div class="card-grid">
<div class="card">
<h4>ğŸ—ï¸ Feature ParallÃ¨les</h4>
<p>1 worktree = 1 feature. Le lead coordonne et merge. IdÃ©al pour plusieurs features indÃ©pendantes.</p>
</div>
<div class="card">
<h4>ğŸ§ª Test + ImplÃ©mentation</h4>
<p>1 worktree pour les tests, 1 pour l'implÃ©mentation. Le testeur vÃ©rifie en continu. TDD assistÃ© par IA.</p>
</div>
<div class="card">
<h4>ğŸ” Exploration + Action</h4>
<p>1 worktree read-only (Plan mode) pour explorer, 1 pour implÃ©menter. SÃ©paration analyse/action.</p>
</div>
</div>
</div>

<!-- ======================= EXERCISES ======================= -->
<div class="content" id="exercises">
<h1>ğŸ¯ Exercices Pratiques</h1>
<p>20 exercices progressifs pour maÃ®triser Claude Code, de dÃ©butant Ã  expert.</p>

<h2>ğŸŸ¢ DÃ©butant â€” Premiers pas</h2>

<div class="exercise">
<h4>Exercice 1 â€” Hello Claude Code <span class="difficulty diff-easy">ğŸŸ¢ FACILE</span></h4>
<p><strong>Objectif :</strong> Installer Claude Code et lancer ta premiÃ¨re session.</p>
<ol>
<li>Installe Claude Code : <code>npm install -g @anthropic-ai/claude-code</code></li>
<li>Lance <code>claude</code> dans un projet existant</li>
<li>Demande : "Give me an overview of this codebase"</li>
<li>Demande : "What are the main dependencies?"</li>
</ol>
<p><strong>Validation :</strong> Claude devrait lister les fichiers principaux et les dÃ©pendances sans erreur.</p>
</div>

<div class="exercise">
<h4>Exercice 2 â€” CLAUDE.md <span class="difficulty diff-easy">ğŸŸ¢ FACILE</span></h4>
<p><strong>Objectif :</strong> CrÃ©er un fichier CLAUDE.md pour ton projet.</p>
<ol>
<li>CrÃ©e un fichier <code>CLAUDE.md</code> Ã  la racine de ton projet</li>
<li>Ajoute : commandes build/test, conventions de code, architecture</li>
<li>Relance Claude Code et vÃ©rifie qu'il utilise ces infos</li>
<li>Demande : "What are our coding conventions?"</li>
</ol>
<p><strong>Validation :</strong> Claude reprend tes conventions dÃ©finies dans CLAUDE.md.</p>
</div>

<div class="exercise">
<h4>Exercice 3 â€” Plan Mode <span class="difficulty diff-easy">ğŸŸ¢ FACILE</span></h4>
<p><strong>Objectif :</strong> Utiliser Plan Mode pour analyser sans modifier.</p>
<ol>
<li>Lance : <code>claude --permission-mode plan</code></li>
<li>Demande : "Create a plan to add user authentication to this app"</li>
<li>Review le plan proposÃ©</li>
<li>Affine avec : "What about password hashing?"</li>
</ol>
<p><strong>Validation :</strong> Claude propose un plan dÃ©taillÃ© SANS modifier aucun fichier.</p>
</div>

<div class="exercise">
<h4>Exercice 4 â€” Fix a Bug <span class="difficulty diff-easy">ğŸŸ¢ FACILE</span></h4>
<p><strong>Objectif :</strong> Utiliser Claude Code pour debug et fix.</p>
<ol>
<li>Trouve un bug dans un de tes projets (ou crÃ©e un test qui fail)</li>
<li>Demande : "I'm seeing this error when I run npm test: [colle l'erreur]"</li>
<li>Laisse Claude analyser, proposer et appliquer le fix</li>
<li>VÃ©rifie que les tests passent</li>
</ol>
<p><strong>Validation :</strong> Le bug est corrigÃ© et les tests passent.</p>
</div>

<h2>ğŸŸ¡ IntermÃ©diaire â€” MaÃ®trise des outils</h2>

<div class="exercise">
<h4>Exercice 5 â€” Permissions Custom <span class="difficulty diff-medium">ğŸŸ¡ MOYEN</span></h4>
<p><strong>Objectif :</strong> Configurer des rÃ¨gles de permission granulaires.</p>
<ol>
<li>CrÃ©e un <code>.claude/settings.json</code></li>
<li>Ajoute des allow rules pour npm et git</li>
<li>Ajoute des deny rules pour rm, curl, et .env</li>
<li>Teste que Claude est bien bloquÃ© pour les commandes deny</li>
</ol>
<p><strong>Config attendue :</strong></p>
<pre><code>{
  "permissions": {
    "allow": ["Bash(npm *)", "Bash(git status)", "Bash(git diff *)"],
    "deny": ["Bash(rm *)", "Bash(curl *)", "Read(*.env)"]
  }
}</code></pre>
</div>

<div class="exercise">
<h4>Exercice 6 â€” Sous-agent Custom <span class="difficulty diff-medium">ğŸŸ¡ MOYEN</span></h4>
<p><strong>Objectif :</strong> CrÃ©er un sous-agent spÃ©cialisÃ©.</p>
<ol>
<li>CrÃ©e <code>.claude/agents/security-checker.md</code></li>
<li>Configure-le en read-only avec description claire</li>
<li>Utilise-le : "Use the security-checker agent to audit auth.ts"</li>
<li>Review les rÃ©sultats</li>
</ol>
</div>

<div class="exercise">
<h4>Exercice 7 â€” Skill PersonnalisÃ©e <span class="difficulty diff-medium">ğŸŸ¡ MOYEN</span></h4>
<p><strong>Objectif :</strong> CrÃ©er une skill rÃ©utilisable.</p>
<ol>
<li>CrÃ©e <code>~/.claude/skills/doc-generator/SKILL.md</code></li>
<li>Ã‰cris les instructions pour gÃ©nÃ©rer de la doc JSDoc</li>
<li>Ajoute <code>disable-model-invocation: true</code></li>
<li>Teste avec : <code>/doc-generator src/auth.ts</code></li>
</ol>
</div>

<div class="exercise">
<h4>Exercice 8 â€” Hook PreToolUse <span class="difficulty diff-medium">ğŸŸ¡ MOYEN</span></h4>
<p><strong>Objectif :</strong> CrÃ©er un hook qui bloque les commandes dangereuses.</p>
<ol>
<li>CrÃ©e <code>.claude/hooks/guard.sh</code></li>
<li>Le hook doit bloquer tout <code>rm -rf</code> et <code>sudo</code></li>
<li>Configure le hook dans settings.json</li>
<li>Teste en demandant Ã  Claude une commande bloquÃ©e</li>
</ol>
</div>

<div class="exercise">
<h4>Exercice 9 â€” Reprise de session <span class="difficulty diff-medium">ğŸŸ¡ MOYEN</span></h4>
<p><strong>Objectif :</strong> MaÃ®triser la gestion des sessions.</p>
<ol>
<li>Nomme ta session : <code>/rename my-refactor</code></li>
<li>Quitte Claude Code</li>
<li>Reprends : <code>claude --resume my-refactor</code></li>
<li>VÃ©rifie que le contexte est conservÃ©</li>
<li>Explore le picker : <code>claude --resume</code></li>
</ol>
</div>

<div class="exercise">
<h4>Exercice 10 â€” PR Automatique <span class="difficulty diff-medium">ğŸŸ¡ MOYEN</span></h4>
<p><strong>Objectif :</strong> Utiliser Claude Code pour crÃ©er une PR complÃ¨te.</p>
<ol>
<li>Fais des modifications (ou demande Ã  Claude)</li>
<li>Lance : <code>/commit-push-pr</code></li>
<li>Ou Ã©tape par Ã©tape : "summarize changes" â†’ "create a PR"</li>
<li>VÃ©rifie la PR sur GitHub</li>
</ol>
</div>

<h2>ğŸ”´ AvancÃ© â€” SÃ©curitÃ© & Architecture</h2>

<div class="exercise">
<h4>Exercice 11 â€” Sandboxing Complet <span class="difficulty diff-hard">ğŸ”´ AVANCÃ‰</span></h4>
<p><strong>Objectif :</strong> Configurer et tester le sandboxing.</p>
<ol>
<li>Active le sandboxing : <code>/sandbox</code></li>
<li>Choisis le mode "Auto-allow"</li>
<li>Demande Ã  Claude d'exÃ©cuter des commandes variÃ©es</li>
<li>VÃ©rifie que les commandes nÃ©cessitant rÃ©seau non-approuvÃ© sont bloquÃ©es</li>
<li>Teste l'accÃ¨s Ã  un fichier hors du rÃ©pertoire de travail</li>
</ol>
</div>

<div class="exercise">
<h4>Exercice 12 â€” Worktrees ParallÃ¨les <span class="difficulty diff-hard">ğŸ”´ AVANCÃ‰</span></h4>
<p><strong>Objectif :</strong> Travailler en parallÃ¨le avec des worktrees.</p>
<ol>
<li>Lance : <code>claude --worktree</code></li>
<li>Dans cette session, travaille sur une feature</li>
<li>Ouvre un autre terminal et lance : <code>claude --worktree</code></li>
<li>Travaille sur une autre feature en parallÃ¨le</li>
<li>VÃ©rifie avec <code>git worktree list</code> que les deux existent</li>
<li>Commit dans chaque worktree sÃ©parÃ©ment</li>
</ol>
</div>

<div class="exercise">
<h4>Exercice 13 â€” Agent Team <span class="difficulty diff-hard">ğŸ”´ AVANCÃ‰</span></h4>
<p><strong>Objectif :</strong> Lancer une Ã©quipe d'agents.</p>
<ol>
<li>Active agent teams dans settings.json</li>
<li>Demande : "Create a team with 3 teammates to refactor the auth module: one for the API layer, one for the database layer, one for tests"</li>
<li>Observe la coordination</li>
<li>Interagis directement avec un teammate (<code>Shift+Down</code>)</li>
<li>Clean up : "Clean up the team"</li>
</ol>
</div>

<div class="exercise">
<h4>Exercice 14 â€” Managed Settings <span class="difficulty diff-hard">ğŸ”´ AVANCÃ‰</span></h4>
<p><strong>Objectif :</strong> Simuler une config enterprise.</p>
<ol>
<li>CrÃ©e un fichier managed settings au bon emplacement pour ton OS</li>
<li>Ajoute <code>disableBypassPermissionsMode: "disable"</code></li>
<li>Ajoute des deny rules globales</li>
<li>VÃ©rifie que les restrictions sont en place et non-overridables</li>
</ol>
</div>

<div class="exercise">
<h4>Exercice 15 â€” MCP Server <span class="difficulty diff-hard">ğŸ”´ AVANCÃ‰</span></h4>
<p><strong>Objectif :</strong> Connecter Claude Code Ã  un serveur MCP.</p>
<ol>
<li>Configure un serveur MCP GitHub dans settings.json</li>
<li>Utilise <code>mcp__github</code> tools dans Claude Code</li>
<li>Demande : "List my open PRs using the GitHub MCP server"</li>
<li>Configure les permissions MCP appropriÃ©es</li>
</ol>
</div>

<h2>ğŸŸ£ Expert â€” Workflows avancÃ©s</h2>

<div class="exercise">
<h4>Exercice 16 â€” CI/CD Pipeline <span class="difficulty diff-hard">ğŸ”´ EXPERT</span></h4>
<p><strong>Objectif :</strong> IntÃ©grer Claude Code dans un pipeline CI.</p>
<ol>
<li>CrÃ©e un GitHub Action utilisant Claude Code headless</li>
<li>Claude doit : analyser une PR, reviewer le code, poster un commentaire</li>
<li>Utilise <code>--dangerously-skip-permissions</code> dans le container CI</li>
<li>Configure <code>--output-format json</code> pour parser les rÃ©sultats</li>
</ol>
</div>

<div class="exercise">
<h4>Exercice 17 â€” Hook Prompt LLM <span class="difficulty diff-hard">ğŸ”´ EXPERT</span></h4>
<p><strong>Objectif :</strong> CrÃ©er un hook qui utilise un prompt LLM au lieu d'un script.</p>
<ol>
<li>CrÃ©e un hook PostToolUse de type "prompt"</li>
<li>Le prompt doit vÃ©rifier que le code Ã©ditÃ© respecte tes conventions</li>
<li>Si non-conforme, le hook ajoute un message de feedback</li>
<li>Teste sur une modification qui viole les conventions</li>
</ol>
</div>

<div class="exercise">
<h4>Exercice 18 â€” Multi-Repo Workflow <span class="difficulty diff-hard">ğŸ”´ EXPERT</span></h4>
<p><strong>Objectif :</strong> Travailler sur plusieurs repos simultanÃ©ment.</p>
<ol>
<li>Utilise <code>--add-dir</code> pour ajouter un deuxiÃ¨me repo</li>
<li>Demande Ã  Claude de modifier les deux repos de maniÃ¨re cohÃ©rente</li>
<li>Ou utilise les sessions cloud avec multiple repos (Desktop)</li>
</ol>
</div>

<div class="exercise">
<h4>Exercice 19 â€” SÃ©curitÃ© Maximale <span class="difficulty diff-hard">ğŸ”´ EXPERT</span></h4>
<p><strong>Objectif :</strong> Mettre en place la config de sÃ©curitÃ© la plus restrictive possible.</p>
<ol>
<li>Active le sandboxing en mode "Regular permissions"</li>
<li>CrÃ©e des deny rules pour tous les rÃ©pertoires sensibles</li>
<li>Configure <code>dontAsk</code> mode avec une allowlist minimale</li>
<li>CrÃ©e un hook PreToolUse qui valide chaque commande bash</li>
<li>Teste que tout fonctionne pour le dÃ©veloppement normal</li>
<li>Teste que les accÃ¨s non-autorisÃ©s sont bien bloquÃ©s</li>
</ol>
</div>

<div class="exercise">
<h4>Exercice 20 â€” Team + Worktrees + Hooks <span class="difficulty diff-hard">ğŸ”´ EXPERT</span></h4>
<p><strong>Objectif :</strong> Combiner toutes les fonctionnalitÃ©s avancÃ©es.</p>
<ol>
<li>Active agent teams + sandboxing</li>
<li>CrÃ©e un hook <code>WorktreeCreate</code> qui setup les dÃ©pendances</li>
<li>CrÃ©e un hook <code>TaskCompleted</code> qui lance les tests</li>
<li>Lance une team de 3 agents avec worktrees isolÃ©s</li>
<li>Observe que chaque teammate travaille dans son worktree</li>
<li>VÃ©rifie que les hooks se dÃ©clenchent correctement</li>
<li>Clean up et merge les rÃ©sultats</li>
</ol>
<p><strong>Validation :</strong> Tout fonctionne de bout en bout. FÃ©licitations, tu es expert Claude Code ! ğŸ†</p>
</div>
</div>

<!-- ======================= CHEATSHEET ======================= -->
<div class="content" id="cheatsheet">
<h1>ğŸ“‹ Cheatsheet â€” Claude Code</h1>
<p>RÃ©fÃ©rence rapide de toutes les commandes, raccourcis, et configurations.</p>

<h2>ğŸš€ Lancement</h2>
<table>
<tr><th>Commande</th><th>Action</th></tr>
<tr><td><code>claude</code></td><td>Session interactive</td></tr>
<tr><td><code>claude -p "..."</code></td><td>One-shot headless</td></tr>
<tr><td><code>claude --continue</code></td><td>Reprendre derniÃ¨re session</td></tr>
<tr><td><code>claude --resume [name]</code></td><td>Reprendre par nom</td></tr>
<tr><td><code>claude --from-pr 123</code></td><td>Reprendre depuis PR</td></tr>
<tr><td><code>claude --worktree</code></td><td>Session avec worktree isolÃ©</td></tr>
<tr><td><code>claude --add-dir ../lib</code></td><td>Ajouter un rÃ©pertoire</td></tr>
<tr><td><code>claude --permission-mode plan</code></td><td>DÃ©marrer en Plan Mode</td></tr>
<tr><td><code>claude agents</code></td><td>Lister les agents configurÃ©s</td></tr>
</table>

<h2>âŒ¨ï¸ Raccourcis in-session</h2>
<table>
<tr><th>Raccourci</th><th>Action</th></tr>
<tr><td><code>Shift+Tab</code></td><td>Cycler modes permission (default â†’ acceptEdits â†’ plan)</td></tr>
<tr><td><code>Ctrl+O</code></td><td>Toggle verbose mode (voir thinking)</td></tr>
<tr><td><code>Option+T / Alt+T</code></td><td>Toggle thinking on/off</td></tr>
<tr><td><code>Shift+Down</code></td><td>Naviguer entre teammates (agent teams)</td></tr>
<tr><td><code>Ctrl+T</code></td><td>Toggle task list (agent teams)</td></tr>
<tr><td><code>Ctrl+G</code></td><td>Ouvrir le plan dans l'Ã©diteur</td></tr>
<tr><td><code>Ctrl+V</code></td><td>Coller image (pas Cmd+V !)</td></tr>
<tr><td><code>Escape</code></td><td>Interrompre le tour d'un teammate</td></tr>
</table>

<h2>/ Slash Commands</h2>
<table>
<tr><th>Commande</th><th>Action</th></tr>
<tr><td><code>/help</code></td><td>Aide</td></tr>
<tr><td><code>/compact</code></td><td>Compacter le contexte</td></tr>
<tr><td><code>/permissions</code></td><td>Voir/gÃ©rer les permissions</td></tr>
<tr><td><code>/model</code></td><td>Changer modÃ¨le / effort</td></tr>
<tr><td><code>/agents</code></td><td>GÃ©rer les sous-agents</td></tr>
<tr><td><code>/sandbox</code></td><td>Configurer sandboxing</td></tr>
<tr><td><code>/resume</code></td><td>Picker de sessions</td></tr>
<tr><td><code>/rename</code></td><td>Nommer la session</td></tr>
<tr><td><code>/config</code></td><td>Config globale</td></tr>
<tr><td><code>/statusline</code></td><td>Barre de status</td></tr>
<tr><td><code>/commit-push-pr</code></td><td>Commit + push + PR</td></tr>
</table>

<h2>ğŸ“ Fichiers importants</h2>
<table>
<tr><th>Fichier</th><th>RÃ´le</th></tr>
<tr><td><code>CLAUDE.md</code></td><td>MÃ©moire projet (injectÃ©e dans le prompt)</td></tr>
<tr><td><code>.claude/settings.json</code></td><td>Config projet (permissions, hooks, sandbox)</td></tr>
<tr><td><code>.claude/settings.local.json</code></td><td>Config locale (gitignored)</td></tr>
<tr><td><code>~/.claude/settings.json</code></td><td>Config utilisateur globale</td></tr>
<tr><td><code>~/.claude/agents/*.md</code></td><td>Sous-agents personnels</td></tr>
<tr><td><code>.claude/agents/*.md</code></td><td>Sous-agents projet</td></tr>
<tr><td><code>~/.claude/skills/*/SKILL.md</code></td><td>Skills personnelles</td></tr>
<tr><td><code>.claude/skills/*/SKILL.md</code></td><td>Skills projet</td></tr>
<tr><td><code>.claude/worktrees/</code></td><td>Worktrees des sessions parallÃ¨les</td></tr>
</table>

<h2>ğŸ”’ Permissions â€” Quick Ref</h2>
<pre><code>{
  "permissions": {
    "defaultMode": "default",    // default|acceptEdits|plan|dontAsk|bypassPermissions
    "allow": [
      "Bash(npm *)",             // wildcard command
      "Bash(git commit *)",
      "WebFetch(domain:docs.example.com)",
      "mcp__github",             // tous les outils MCP github
      "Task(Explore)"            // sous-agent Explore
    ],
    "deny": [
      "Bash(rm -rf *)",
      "Bash(curl *)",
      "Read(~/.ssh/**)",         // gitignore-style paths
      "Read(**/.env)",
      "Edit(//etc/**)",          // // = chemin absolu
      "Task(Plan)"              // dÃ©sactiver sous-agent Plan
    ]
  }
}</code></pre>

<h2>ğŸ–ï¸ Sandbox â€” Quick Ref</h2>
<pre><code>{
  "sandbox": {
    "enabled": true,
    "autoAllow": true,           // auto-approve sandboxed commands
    "allowedDomains": [
      "registry.npmjs.org",
      "github.com"
    ],
    "excludedCommands": ["docker"],  // run outside sandbox
    "allowUnsandboxedCommands": false, // disable escape hatch
    "network": {
      "httpProxyPort": 8080,
      "socksProxyPort": 8081
    }
  }
}</code></pre>

<h2>ğŸª Hooks â€” Quick Ref</h2>
<pre><code>{
  "hooks": {
    "PreToolUse": [{
      "matcher": "Bash",
      "hooks": [{ "type": "command", "command": ".claude/hooks/guard.sh" }]
    }],
    "PostToolUse": [{
      "matcher": "Edit",
      "hooks": [{ "type": "command", "command": ".claude/hooks/lint.sh" }]
    }],
    "WorktreeCreate": [{
      "hooks": [{ "type": "command", "command": ".claude/hooks/setup-wt.sh" }]
    }],
    "Stop": [{
      "hooks": [{ "type": "command", "command": ".claude/hooks/on-done.sh" }]
    }]
  }
}</code></pre>

<h2>ğŸ¤– Sous-agent â€” Quick Ref</h2>
<pre><code># .claude/agents/reviewer.md
---
name: reviewer
description: Code review expert
tools: Read, Glob, Grep
model: sonnet
permissionMode: plan
maxTurns: 20
---

Review code for quality, security, and best practices.
Focus on actionable feedback.</code></pre>

<h2>ğŸ§‘â€ğŸ’» Headless / CI â€” Quick Ref</h2>
<pre><code># One-shot
claude -p "Fix the failing tests" --output-format json

# Stream output
claude -p "Analyze security" --output-format stream-json

# No permissions (containers ONLY)
claude -p "..." --dangerously-skip-permissions

# With custom model
claude --model opus -p "Complex architecture analysis"

# With effort level
CLAUDE_CODE_EFFORT_LEVEL=high claude -p "..."</code></pre>

<h2>ğŸ”— Liens utiles</h2>
<ul>
<li><a href="https://docs.anthropic.com/en/docs/claude-code">Documentation officielle</a></li>
<li><a href="https://github.com/anthropics/claude-code">GitHub</a></li>
<li><a href="https://github.com/anthropics/claude-code/tree/main/examples/settings">Exemples de settings</a></li>
<li><a href="https://github.com/anthropic-experimental/sandbox-runtime">Sandbox Runtime (open source)</a></li>
<li><a href="https://claude.ai/code">Claude Code sur le web</a></li>
</ul>
</div>

<script>
// Tab navigation
document.querySelectorAll('.tab').forEach(tab => {
  tab.addEventListener('click', () => {
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
    tab.classList.add('active');
    document.getElementById(tab.dataset.tab).classList.add('active');
  });
});

// Search
document.getElementById('search').addEventListener('input', function() {
  const q = this.value.toLowerCase().trim();
  if (!q) {
    document.querySelectorAll('.content').forEach(c => {
      c.querySelectorAll('mark').forEach(m => m.outerHTML = m.textContent);
    });
    return;
  }
  // Show all tabs content for search
  const contents = document.querySelectorAll('.content');
  let found = false;
  contents.forEach(c => {
    // Remove old marks
    c.querySelectorAll('mark').forEach(m => m.outerHTML = m.textContent);
    const text = c.textContent.toLowerCase();
    if (text.includes(q)) {
      if (!found) {
        // Switch to the first tab with results
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.content').forEach(cc => cc.classList.remove('active'));
        c.classList.add('active');
        document.querySelector(`[data-tab="${c.id}"]`).classList.add('active');
        found = true;
      }
    }
  });
});
</script>
</body>
</html>
